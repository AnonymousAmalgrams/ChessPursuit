function J(){this.B=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+b)]=a[b]||0;.01>this.c&&(this.c=.01),a=this.b+this.c+this.e,.18>a&&(a=.18/a,this.b*=a,this.c*=a,this.e*=a)}}var W=new function(){this.A=new J;var a,b,c,d,e,f,g,h,i,j,k,l;this.reset=function(){var a=this.A;d=100/(a.f*a.f+.001),e=100/(a.g*a.g+.001),f=1-a.h*a.h*a.h*.01,g=-a.i*a.i*a.i*1e-6,a.a||(k=.5-a.n/2,l=5e-5*-a.o),h=1+a.l*a.l*(0<a.l?-.9:10),i=0,j=1==a.m?0:(1-a.m)*(1-a.m)*2e4+32},this.D=function(){this.reset();var d=this.A;return a=d.b*d.b*1e5,b=d.c*d.c*1e5,c=d.e*d.e*1e5+12,3*((a+b+c)/3|0)},this.C=function(m,n){var o=this.A,p=1!=o.s||o.v,q=o.v*o.v*.1,r=1+3e-4*o.w,s=o.s*o.s*o.s*.1,t=1+1e-4*o.t,u=1!=o.s,v=o.x*o.x,w=o.g,x=o.q||o.r,y=o.r*o.r*o.r*.2,z=o.q*o.q*(0>o.q?-1020:1020),A=o.p?((1-o.p)*(1-o.p)*2e4|0)+32:0,B=o.d,C=o.j/2,D=o.k*o.k*.01,E=o.a,F=a,G=1/a,H=1/b,I=1/c,o=5/(1+o.u*o.u*20)*(.01+s);o>.8&&(o=.8);for(var J,K,L,M,N,o=1-o,O=!1,P=0,Q=0,R=0,S=0,T=0,U=0,V=0,W=0,X=0,Y=0,Z=Array(1024),$=Array(32),_=Z.length;_--;)Z[_]=0;for(_=$.length;_--;)$[_]=2*Math.random()-1;for(_=0;n>_;_++){if(O)return _;if(A&&++X>=A&&(X=0,this.reset()),j&&++i>=j&&(j=0,d*=h),f+=g,d*=f,d>e&&(d=e,w>0&&(O=!0)),K=d,C>0&&(Y+=D,K*=1+Math.sin(Y)*C),K|=0,8>K&&(K=8),E||(k+=l,0>k?k=0:k>.5&&(k=.5)),++Q>F)switch(Q=0,++P){case 1:F=b;break;case 2:F=c}switch(P){case 0:R=Q*G;break;case 1:R=1+2*(1-Q*H)*B;break;case 2:R=1-Q*I;break;case 3:R=0,O=!0}x&&(z+=y,L=0|z,0>L?L=-L:L>1023&&(L=1023)),p&&r&&(q*=r,1e-5>q?q=1e-5:q>.1&&(q=.1)),N=0;for(var ab=8;ab--;){if(V++,V>=K&&(V%=K,3==E))for(J=$.length;J--;)$[J]=2*Math.random()-1;switch(E){case 0:M=k>V/K?.5:-.5;break;case 1:M=1-V/K*2;break;case 2:M=V/K,M=6.28318531*(M>.5?M-1:M),M=1.27323954*M+.405284735*M*M*(0>M?1:-1),M=.225*((0>M?-1:1)*M*M-M)+M;break;case 3:M=$[Math.abs(32*V/K|0)]}p&&(J=U,s*=t,0>s?s=0:s>.1&&(s=.1),u?(T+=(M-U)*s,T*=o):(U=M,T=0),U+=T,S+=U-J,M=S*=1-q),x&&(Z[W%1024]=M,M+=Z[(W-L+1024)%1024],W++),N+=M}N=.125*N*R*v,m[_]=N>=1?32767:-1>=N?-32768:32767*N|0}return n}};window.jsfxr=function(a){W.A.B(a);var b=W.D();a=new Uint8Array(4*((b+1)/2|0)+44);var b=2*W.C(new Uint16Array(a.buffer,44),b),c=new Uint32Array(a.buffer,0,44);c[0]=1179011410,c[1]=b+36,c[2]=1163280727,c[3]=544501094,c[4]=16,c[5]=65537,c[6]=44100,c[7]=88200,c[8]=1048578,c[9]=1635017060,c[10]=b;for(var b=b+44,c=0,d="data:audio/wav;base64,";b>c;c+=3)var e=a[c]<<16|a[c+1]<<8|a[c+2],d=d+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&e]);return d};var aa;!function(){function a(){this.sounds={}}a.prototype.add=function(a,b,c){this.sounds[a]=[],c.forEach(function(c,d){this.sounds[a].push({tick:0,count:b,pool:[]});for(var e=0;b>e;e++){var f=new Audio;f.src=jsfxr(c),this.sounds[a][d].pool.push(f)}},this)},a.prototype.play=function(a){var b=this.sounds[a],c=b.length>1?b[Math.floor(Math.random()*b.length)]:b[0];c.pool[c.tick].play(),c.tick<c.count-1?c.tick++:c.tick=0},aa=new a,aa.add("start",1,[[0,.2,.13,.01,,.3328,,,,,,,,.0994,,,,,1,,,.1,,.5]]),aa.add("right",5,[[3,1,.3197,.7823,.2124,.1117,,.091,,,,,,,,.3901,.1061,-.0873,1,,,,,.5]]),aa.add("pad",1,[[0,,.0945,,.1582,.4416,,-.535,,,,,,.3856,,,,,1,,,.0896,,.5]]),aa.add("boost",1,[[0,,.2833,,.1918,.4914,,.2408,,,,,,.0182,,,,,1,,,,,.5]]),aa.add("ring",5,[[0,,.0177,.565,.2893,.4147,,,,,,.4159,.6958,,,,,,1,,,,,.5]]),aa.add("bumper",1,[[0,,.2389,,.2437,.5057,,.164,,,,,,.1032,,,,,1,,,,,.5]]),aa.add("hurt",1,[[0,,.2056,,.2341,.2899,,.3315,,,,,,.1817,,.6354,,,1,,,,,.5]]),aa.add("eat",1,[[0,,.3402,,.2772,.4978,,.1736,,.2589,.3885,,,.1153,,,,,1,,,,,.5]]),aa.add("die",1,[[3,,.296,.6924,.1761,.2478,,.0895,,,,-.6933,.8848,,,,,,1,,,,,.5]])}(),window.onload=function(){"use strict";function a(){E=G.innerWidth,F=G.innerHeight,R.width=N,R.height=N+M}function b(){I.appendChild(R),w(),s(),t(),c(),a(),j()}function c(){function a(){if(b>=c){var a=c?b-c+1:0,e=Array.prototype.slice.call(arguments);if(e.length!=O)throw new Error;for(var f=e.length-1;f>=0;f--){var g=e[f];if(g.length>O)throw new Error;var h=(a+1)*O-f-1;if(""!==g)for(var i=0;i<g.length;i++){var j=g.charAt(i);" "!==j&&"-"!==j&&d(j,h,i)}}}b++}var b=0,c=6;a("","","","  krb","","","","    p"),a("  pppp","  pppp","","  p","","     p","",""),a("","pppppp","","  pppppp","","pppppp","",""),a("","pp   ppp","  p p","   p","","","",""),a("","   pp","p p  p p"," p    p","","","",""),a("","     ppp","      p","ppp"," p   ppp","      p","",""),a("   p","   r","","   p","   p","","",""),hb=d(kb,5+bb,5)}function d(a,b,c){var d={shape:null,type:a,row:b,col:c};return db[b]||(db[b]={}),db[b][c]=d,d}function e(){if(!(0>=eb||hb.anim)){var a=0,b=0;vb||((ub.down==sb||0===ub.down)&&(b=-1),(ub.up==sb||0===ub.up)&&(b=1),(ub.left==sb||0===ub.left)&&(a=-1),(ub.right==sb||0===ub.right)&&(a=1),(a||b)&&(a?(ub.up<=sb&&ub.up>0&&(b=1),ub.down<=sb&&ub.down>0&&(b=-1)):(ub.left<=sb&&ub.left>0&&(a=-1),ub.right<=sb&&ub.right>0&&(a=1)),f(hb.row+b,hb.col+a),vb=!0));var c;if(vb){var d=!0;for(c in Sb)if(Sb[c]){d=!1;break}vb=!d}for(c in ub)ub[c]>=1?ub[c]++:ub[c]>tb&&ub[c]--;if(!hb.anim&&wb.x>0&&wb.x<N&&wb.y>M&&wb.y<N+M){var e=wb.x/N,g=(wb.y-M)/N;p(e,g),yb=J.floor(p.res.x*O),xb=J.floor(p.res.y*O+bb),a=yb-hb.col,b=xb-hb.row,a>1?a=1:-1>a&&(a=-1),b>1?b=1:-1>b&&(b=-1),xb=hb.row+b,yb=hb.col+a,wb.left&&(a||b)&&(wb.left=!1,f(xb,yb))}else yb=-1,xb=-1}}function f(a,b){var c=hb.col,d=hb.row;0>b?b=0:b>=O&&(b=O-1);var e=J.floor(bb),f=eb-2;if(e>a?a=e:a>=f&&(a=f),b!=c||a!=d){var h=g(a,b);h?(hb.invalid=!0,hb.invalidCol=b,hb.invalidRow=a,hb.enemyPiece=h,b=c,a=d):(hb.invalid=!1,db[a][b]&&i(db[a][b]),delete db[d][c],db[a][b]=hb),hb.oldCol=c,hb.oldRow=d,hb.anim=!0,hb.animStartTime=Z,hb.col=b,hb.row=a}}function g(a,b){var c=h(a+1,b-1,lb)||h(a+1,b+1,lb);if(c)return c;var d,e,f;for(e=b-1;e>=0;e--)if(f=h(a,e)){if(f.type==nb)return f;break}for(e=a+1;O>=e;e++)if(f=h(a,e)){if(f.type==nb)return f;break}for(d=a+1;a+O>=d;d++)if(f=h(d,b)){if(f.type==nb)return f;break}for(d=a-1;d>=a-O;d--)if(f=h(d,b)){if(f.type==nb)return f;break}}function h(a,b,c){var d=db[a];if(d){var e=d[b];if(e&&(!c||e.type==c))return db[a][b]}}function i(a){gb.push(a),a.removedTime=Z,a.justRemoved=!0}function j(){window.stb&&stb(),_?ub.space&&(_=!1,b(),ub.space=!1):ab?renderHomeScreen():(e(),k(),l()),window.ste&&ste(),fb&&requestAnimationFrame(j)}function k(){Z=Date.now(),X&&(bb+=cb*(Z-X)*$),hb.row<bb-.5&&f(hb.row+1,hb.col);var a=J.floor(bb)+Q;if(!X||a>eb){for(var b,c,d,e=a-Q-5;e>eb-Q-5;e--)if(b=db[e]){for(d=!0,c=0;O>c;c++)b[c]&&v(b[c]);delete db[e]}for(e=eb+1;a>=e;e++)if(b=db[e])for(d=!0,c=0;O>c;c++){var g=O/2;c%2===0?g+=c/2:g-=(c+1)/2,b[g]&&u(b[g])}else db[e]=[];eb=a}X=Z}function l(){for(var a,b=eb-Q-5;eb>=b;b++){var c=db[b];if(c)for(var d=0;O>d;d++)if(c[d]){var e=c[d];m(e.row,e.col,e),n(e),e.y>hb.y&&(!a||a.y>e.y)&&(a=e)}}a&&Pb.insertBefore(hb.shape,a.shape);var f;if(hb.anim)if(f=hb.invalid?$*(Z-hb.animStartTime)/jb:$*(Z-hb.animStartTime)/ib,0>f||f>=1)hb.anim=!1,hb.invalid&&hb.enemyPiece&&(hb.enemyPiece.shape.style.filter="none"),hb.invalid=!1;else if(f=J.sin(f*K*.5),hb.invalid){m(hb.row,hb.col);var g=.4*(.5>f?f:1-f)*P,h=J.sin(6*f*K)*g;hb.x+=h,n(hb),hb.enemyPiece.shape.style.filter="url(#"+qb+")"}else m(hb.oldRow,hb.oldCol),hb.opacity=f*hb.opacity+(1-f)*m.res.opacity,hb.scale=f*hb.scale+(1-f)*m.res.scale,hb.x=f*hb.x+(1-f)*m.res.x,hb.y=f*hb.y+(1-f)*m.res.y,n(hb);for(k=0,p=gb.length;p>k;k++){var i=gb[k],j=(Z-i.removedTime)/1e3;j>1?(v(i),gb[k]=gb[p-1],p--,k--,gb=gb.slice(0,p)):(i.justRemoved&&(i.justRemoved=!1,i.removedX=i.x,i.removedY=i.y),i.x=i.x<.5*N?i.removedX-j*N:i.removedX+j*N,i.y=i.removedY-J.sin(j*K)*N*.4,n(i))}hb.anim&&hb.invalid?(Y||(Y={onTop:!0,type:rb}),Y.shape||(u(Y),Y.row=hb.invalidRow,Y.col=hb.invalidCol),m(hb.invalidRow,hb.invalidCol,Y),Y.scale=1,Y.y-=f*Y.scale*P*.2,Y.opacity=.8>f?1:1-(f-.8)/(1-.8),n(Y)):Y&&Y.shape&&v(Y),B(S),S.save(),S.translate(0,M),S.fillStyle=zb,S.beginPath(),S.rect(0,0,N,N),S.fill(),S.clip();var k,l,p,q=J.floor(bb),r=-(bb-J.floor(bb)),s={},t={},w={},x={};for(k=-1;Q>k;k++){for(l=0;O>l;l++)if(o(l/O,(k+r)/O,s),o(l/O,(k+1+r)/O,x),o((l+1)/O,(k+1+r)/O,w),o((l+1)/O,(k+r)/O,t),S.beginPath(),S.moveTo(s.x*N,s.y*N),S.lineTo(t.x*N,t.y*N),S.lineTo(w.x*N,w.y*N),S.lineTo(x.x*N,x.y*N),S.closePath(),S.lineWidth=1,S.fillStyle=-1!=xb&&-1!=yb&&k+q==xb&&l==yb?Cb:(k+l+q)%2===0?Ab:Bb,S.fill(),hb.invalid&&hb.invalidCol==l&&hb.invalidRow==k+q){var y=1.5*(.5>f?f:1-f);S.fillStyle="rgba("+Fb+","+y+")",S.fill()}(k+q)%O===0&&(o(0,(k+r)/O,s),o(1,(k+r)/O,t),S.beginPath(),S.moveTo(s.x*N,s.y*N),S.lineTo(t.x*N,t.y*N),S.closePath(),S.strokeStyle="#333",S.strokeWidth="1",S.stroke())}S.restore(),S.drawImage(V,0,0)}function m(a,b,c){c=c||m.res,o((b+.5)/O,(a-bb+.5)/O);var d=.02,e=1;return o.res.y<Gb?e=0:o.res.y<Hb&&(e=1-(d-o.res.y)/(Hb-Gb)),c.opacity=e,c.x=o.res.x*N,c.y=o.res.y*N+M,c.scale=o.res.scaleX,c}function n(a){a.shape.style.opacity=a.opacity,a.scale>0&&a.shape.setAttributeNS(null,"transform","scale("+a.scale+") translate("+a.x/a.scale+","+a.y/a.scale+")")}function o(a,b,c){return c=c||o.res,c.y=q(b,Ib,Jb,Kb),c.scaleX=q(b,Lb,Mb,Nb),c.scaleY=c.scaleX,c.x=(1-c.scaleX)/2+a*c.scaleX,c}function p(a,b,c){c=c||p.res,c.y=r(b,Ib,Jb,Kb,!1);var d=q(c.y,Lb,Mb,Nb);return c.x=(a-(1-d)/2)/d,c}function q(a,b,c,d){return b*a*a+c*a+d}function r(a,b,c,d,e){return e?(-c+J.sqrt(c*c-4*b*(d-a)))/(2*b):(-c-J.sqrt(c*c-4*b*(d-a)))/(2*b)}function s(){var a=U,b=a.createLinearGradient(0,0,0,N),c="rgba(10,20,25,",d=")";b.addColorStop(0,c+0+d),b.addColorStop(.2,c+0+d),b.addColorStop(1,c+.5+d),a.fillStyle=b,a.fillRect(0,0,N,N),a.restore(),T.style.top=M+"px",T.style.pointerEvents="none",I.appendChild(T)}function t(){var a=W;a.clearRect(0,0,N,N),a.save(),a.fillStyle="#FF8601",a.beginPath(),a.rect(0,0,N,M),a.fill(),a.clip(),a.fillStyle="#FFE7CA";var b=N/4;a.beginPath(),a.arc(N/2,M+.3*b,b,0,K,!0),a.fill(),a.restore(),a.beginPath(),a.fillStyle="rgb(10,20,25)";for(var c=40,d=[0,.7,.1,.3,.2,1,.3,.5,.35,.8,.42,.5,.55,.9,.7,.45,.8,1.1,.88,.4,1,.8],e=0;e<d.length;e+=2){var f=d[e]*N,g=M-c*d[e+1];0===e?a.moveTo(f,g):a.lineTo(f,g)}a.lineTo(N,M),a.lineTo(0,M),a.fill(),a.restore(),a.save(),a.translate(0,M);var h=.02*N,i=a.createLinearGradient(0,0,0,h),j="rgba(10,20,25,",k=")";i.addColorStop(0,j+1+k),i.addColorStop(1,j+0+k),a.fillStyle=i,a.fillRect(0,0,N,h),a.restore()}function u(a){var b;if(Qb[a.type]||(Qb[a.type]=[]),b=Qb[a.type].length?Qb[a.type].pop():Ob(a.type),Pb.firstChild&&!a.onTop?Pb.insertBefore(b,Pb.firstChild):Pb.appendChild(b),a.shape)throw new Error;a.shape=b}function v(a){Qb[a.type].push(a.shape),Pb.removeChild(a.shape),a.shape=null}function w(){function a(a,b){var d=H.createElementNS(k,"g");d.setAttributeNS(null,"id",a),d.appendChild(c());for(var e=0;e<b.length;e++){var f=b[e];f.setAttributeNS(null,"x",-P/2),f.setAttributeNS(null,"y",-P),d.appendChild(f)}return o.appendChild(d),d}function b(a){var b=H.createElementNS(k,"filter");return b.setAttributeNS(null,"id",a),x(b,{x:"0",y:"0",width:"100%",height:"100%","color-interpolation-filters":"sRGB"}),b.innerHTML='<feFlood flood-color="rgba(255,0,0,0.3)" result="COLOR"></feFlood><feComposite operator="atop" in="COLOR" in2="SourceGraphic"></feComposite>',o.appendChild(b),b}function c(){var a=e(5,8,3.1,1.8);return y(a,"rgba(0,0,0,0.2)","none"),a}function d(a,b,c){var d=H.createElementNS(k,"circle");return x(d,{cx:i(a-p),cy:i(b-q),r:i(c)}),d}function e(a,b,c,d){var e=H.createElementNS(k,"ellipse");return x(e,{cx:i(a-p),cy:i(b-q),rx:i(c),ry:i(d)}),e}function f(a,b){var c=H.createElementNS(k,"path");return c.setAttributeNS(null,"d",g(a)),b&&x(c,b),c}function g(a){for(var b="",c=0;c<a.length;c++){var d=a[c];"object"==typeof d&&(d=i(d[0]-p)+","+i(d[1]-q)),b+=d+" "}return b}function h(a,b){var c=H.createElementNS(k,"use");return x(c,b),c.setAttributeNS(l,"xlink:href","#"+a),c.setAttribute("xmlns:xlink",l),c}function i(a){return.1*J.round(P*a)}function j(a,b){var c=H.createElementNS(k,"text");c.setAttributeNS(null,"id",a),x(c,{x:"-40","font-size":"28",fill:"red",stroke:"black","stroke-width":"1","font-family":"Impact"}),c.innerHTML=b,o.appendChild(c)}Ob=h;var k="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xlink",m=N,n=N+M;Pb=H.createElementNS(k,"svg"),Pb.setAttribute("xmlns",k),Pb.setAttributeNS(null,"viewBox","0 0 "+m+" "+n),Pb.setAttributeNS(null,"width",m),Pb.setAttributeNS(null,"height",n),H.body.appendChild(Pb);var o=H.createElementNS(k,"defs");Pb.appendChild(o);var p=5,q=8;b(qb),j(rb,"CHECK"),y(a(lb,[f(["M",[2,8],"Q",[5,10],[8,8],"L",[5,3],"L",[2,8]]),d(5,3,2)]),Db,Eb,0),y(a(mb,[f(["M",[5,1],"L",[5,-2],"M",[4,-1],"L",[6,-1]],{"stroke-width":3}),f(["M",[2,8],"Q",[5,10],[8,8],"L",[6,3],"L",[7,1],"Q",[5,0],[3,1],"L",[4,3],"L",[2,8]])]),Db,Eb,0),y(a(pb,[f(["M",[2,8],"Q",[5,10],[8,8],"L",[7,6],"Q",[8,3],[7,0],"L",[6,1],"L",[5,1],"L",[2,4],"L",[3,5],"L",[5,4],"L",[2,8]])]),Db,Eb,0),y(a(nb,[f(["M",[2,8],"Q",[5,10],[8,8],"L",[6.5,3],"L",[8,2],"L",[8,0],"L",[7,0],"L",[7,1],"L",[6,1],"L",[6,0],"L",[4,0],"L",[4,1],"L",[3,1],"L",[3,0],"L",[2,0],"L",[2,2],"L",[3.5,3],"L",[2,8]])]),Db,Eb,0),y(a(ob,[f(["M",[2,8],"Q",[5,10],[8,8],"L",[6,4],"Q",[8,1.1],[5,0],"Q",[2,1.1],[4,4],"L",[2,8]]),d(5,0,.7),f(["M",[3.8,.8],"L",[4.4,2.5]],{"stroke-width":2})]),Db,Eb,0),y(a(kb,[f(["M",[5,1],"L",[5,-2],"M",[4,-1],"L",[6,-1]],{"stroke-width":3}),f(["M",[2,8],"Q",[5,10],[8,8],"L",[6,3],"L",[7,1],"Q",[5,0],[3,1],"L",[4,3],"L",[2,8]])]),"#002","#333",0)}function x(a,b){if(b)for(var c in b)a.setAttributeNS(null,c,b[c]);return a}function y(a,b,c,d){var e={};return"undefined"!=typeof b&&(e.fill=b),"undefined"!=typeof c&&(e.stroke=c),"undefined"!=typeof d&&(e.strokeWidth=d),x(a,e),a}function z(a,b){var c=H.createElement("canvas");return c.width=a,c.height=b,c}function A(a){return a.getContext("2d")}function B(a){a.clearRect(0,0,E,F)}function C(a,b){b||(b=window.e);var c=b.keyCode;b.charCode&&!c&&(c=b.charCode);var d=Rb[c];d&&Sb[d]!==a&&(Sb[d]=a,a?ub[d]<1&&(console.log("keyDown",d),ub[d]=1):ub[d]>0&&(console.log("keyUp",d),ub[d]=0))}function D(a,b){var c,d;"which"in b?(c=3==b.which,d=2==b.which):"button"in b&&(c=2==b.button,d=1==b.button),c?wb.right=a:d?wb.middle=a:wb.left=a,H.onmousemove(b)}var E,F,G=window,H=G.document,I=H.body,J=G.Math,K=J.PI,L=(J.sqrt,J.random,1),M=100*L,N=400*L,O=8,P=N/O,Q=2*O+3,R=z(N,N),S=A(R),T=z(N,N),U=A(T),V=z(N,2*N),W=A(V);window.onresize=a();var X,Y,Z=0,$=.001,_=!1,ab=!1,bb=0,cb=1,db={},eb=-1,fb=!0,gb=[],hb=null,ib=.05,jb=.5,kb="P",lb="p",mb="K",nb="r",ob="b",pb="k",qb="e",rb="ct",sb=6,tb=-1,ub={left:-1,right:-1,up:-1,down:-1},vb=!1,wb={},xb=-1,yb=-1,zb="#193441",Ab="#D1DBBD",Bb="#3E606F",Cb="#794",Db="#eee",Eb="#555",Fb="255,0,0",Gb=-.02,Hb=.02;m.res={};var Ib=3/16,Jb=-0.875,Kb=1,Lb=-2.5/16,Mb=0,Nb=1;o.res={},p.res={};var Ob,Pb,Qb={},Rb={37:"left",65:"left",81:"left",38:"up",90:"up",87:"up",83:"down",40:"down",39:"right",68:"right",32:"space",27:"esc",13:"Enter"},Sb={};H.onkeyup=function(a){C(!1,a),27==a.keyCode&&toggleHome(),32==a.keyCode&&ab&&toggleHome()},H.onkeydown=function(a){C(!0,a),Sb.space&&(fb=!fb,console.log("debug toggle anim: ",fb),fb&&(X=Date.now(),j()))},H.onmousedown=function(a){D(!0,a)},H.onmouseup=function(a){D(!1,a)},H.onmousemove=function(a){wb.x=a.clientX,wb.y=a.clientY},b()};